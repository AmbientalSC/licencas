@tailwind base;
@tailwind components;
@tailwind utilities;

/* Minimal theme overrides (mirrors `index.css`) - keep non-aggressive so utilities win */
:root{--color-bg:#f3f4f6;--color-bg-light:#ffffff;--color-text:#111827;--color-text-light:#6b7280;--color-primary:#2563eb;--color-danger:#ef4444;--color-success:#16a34a;--color-warning:#f59e0b}
.dark{--color-bg:#0f1724;--color-bg-light:#111827;--color-text:#f4f4f5;--color-text-light:#9ca3af;--color-primary:#60a5fa;--color-danger:#fca5a5;--color-success:#bbf7d0;--color-warning:#facc15}
body{background-color:var(--color-bg)}
.bg-white,.rounded-xl,.fixed,.form-control{background-color:var(--color-bg-light)}
input,textarea,select{color:var(--color-text)}
table thead th{color:var(--color-text-light)}
table tbody tr td{color:var(--color-text)}
/* Light-mode overrides to counter any residual dark !important rules in compiled assets */
html:not(.dark) .bg-white{background-color:#ffffff!important;color:#111827!important}
html:not(.dark) .text-gray-700{color:#374151!important}
html:not(.dark) .text-gray-800{color:#1f2937!important}
html:not(.dark) .bg-gray-50{background-color:#f9fafb!important}
html:not(.dark) .border-gray-200{border-color:#e5e7eb!important}

/* Force light-mode background for sidebar/header nested dark utilities (compiled assets)
	 This neutralizes rules like `background-color: rgb(31 41 55 / var(--tw-bg-opacity))`
	 that may be applied by compiled dark utilities. Scoped to `aside`/`header`. */
html:not(.dark) aside .bg-gray-800,
html:not(.dark) header .bg-gray-800,
html:not(.dark) aside [class*="bg-gray-800"],
html:not(.dark) header [class*="bg-gray-800"],
html:not(.dark) aside [class*="dark:bg"],
html:not(.dark) header [class*="dark:bg"] {
	--tw-bg-opacity: 1 !important;
	background-color: rgb(255 255 255 / var(--tw-bg-opacity)) !important;
	background-color: var(--color-bg-light) !important;
	color: var(--color-text) !important;
}

/* Make nested dark-bg utilities transparent so parent bg shows through in light mode */
html:not(.dark) aside *[class*="dark:bg"],
html:not(.dark) header *[class*="dark:bg"] {
	background-color: transparent !important;
}

/* Force text colors to black in light mode for specific utilities */
html:not(.dark) .text-gray-700,
html:not(.dark) .text-gray-800,
html:not(.dark) .dark\:text-gray-300,
html:not(.dark) .dark\:text-white,
html:not(.dark) [class*="dark:text-white"],
html:not(.dark) [class*="dark:text-gray"] {
	color: #000000 !important;
	--tw-text-opacity: 1 !important;
}
